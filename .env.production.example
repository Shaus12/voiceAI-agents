# =================================================================
# VoiceFX AI - Production Environment Configuration
# =================================================================
# Copy this file to .env.production and fill in your values
# IMPORTANT: Never commit .env.production to version control!

# =================================================================
# DEPLOYMENT SETTINGS
# =================================================================
# Container registry (e.g., ghcr.io/yourorg, dockerhub-user)
REGISTRY=ghcr.io/voicefx-hq

# Environment identifier
ENVIRONMENT=production

# Enable/disable telemetry (Sentry, PostHog)
ENABLE_TELEMETRY=true

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# PostgreSQL credentials - CHANGE THESE!
POSTGRES_USER=voicefx_user
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_123!
POSTGRES_DB=voicefx_production

# Database URL (adjust if using external managed DB)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# =================================================================
# REDIS CONFIGURATION
# =================================================================
# Redis password - CHANGE THIS!
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_456!
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# =================================================================
# OBJECT STORAGE (MinIO / S3)
# =================================================================
# Set to 'true' to use AWS S3, 'false' for MinIO
ENABLE_AWS_S3=false

# MinIO Configuration (if ENABLE_AWS_S3=false)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=CHANGE_THIS_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=CHANGE_THIS_MINIO_SECRET_KEY_789!
MINIO_BUCKET=voice-audio
MINIO_SECURE=false  # Set to 'true' if using TLS internally

# AWS S3 Configuration (if ENABLE_AWS_S3=true)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# =================================================================
# API BACKEND CONFIGURATION
# =================================================================
LOG_LEVEL=INFO

# =================================================================
# TRACING (Langfuse) - Optional
# =================================================================
ENABLE_TRACING=false
# LANGFUSE_SECRET_KEY=your_secret_key
# LANGFUSE_PUBLIC_KEY=your_public_key
# LANGFUSE_HOST=https://langfuse.yourdomain.com

# =================================================================
# ERROR TRACKING (Sentry)
# =================================================================
# Backend Sentry DSN
SENTRY_DSN=https://3acdb63d5f1f70430953353b82de61e0@o4509486225096704.ingest.us.sentry.io/4510152922693632

# Frontend Sentry DSN
UI_SENTRY_DSN=https://d9387fed5f80e90781f1dbd9b2c0994c@o4509486225096704.ingest.us.sentry.io/4510124708200448

# =================================================================
# ANALYTICS (PostHog)
# =================================================================
POSTHOG_KEY=phc_ItizB1dP6yv7ZYobbcqrpxTdbomDA8hJFSEmAMdYvIr
POSTHOG_HOST=https://us.posthog.com

# =================================================================
# AUTHENTICATION
# =================================================================
# Options: 'local' for self-hosted, 'stack' for cloud authentication
NEXT_PUBLIC_AUTH_PROVIDER=local

# If using Stack Auth (cloud):
# STACK_PROJECT_ID=your_project_id
# STACK_PUBLISHABLE_CLIENT_KEY=your_key
# STACK_SECRET_SERVER_KEY=your_secret

# =================================================================
# UI FRONTEND CONFIGURATION
# =================================================================
# Internal backend URL (Docker network)
BACKEND_URL=http://api:8000

# Public-facing API URL (for client-side requests)
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# Node environment
NODE_ENV=production

# =================================================================
# DOMAIN & SSL
# =================================================================
# Your production domain
DOMAIN=yourdomain.com
API_DOMAIN=api.yourdomain.com
UI_DOMAIN=app.yourdomain.com

# =================================================================
# CLOUDFLARE TUNNEL (Optional)
# =================================================================
# If using Cloudflare Tunnel for external access
# CLOUDFLARE_TUNNEL_TOKEN=your_tunnel_token

# =================================================================
# BACKUP CONFIGURATION
# =================================================================
# S3-compatible backup storage
BACKUP_S3_ENDPOINT=s3.amazonaws.com
BACKUP_S3_ACCESS_KEY=your_backup_access_key
BACKUP_S3_SECRET_KEY=your_backup_secret_key
BACKUP_S3_BUCKET=voicefx-backups
BACKUP_RETENTION_DAYS=30

# =================================================================
# SECURITY
# =================================================================
# JWT secret for API authentication (generate a strong random string)
JWT_SECRET=CHANGE_THIS_TO_A_LONG_RANDOM_STRING_!@#$%^&*()

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://app.yourdomain.com,https://yourdomain.com

# =================================================================
# SCALING & PERFORMANCE
# =================================================================
# Number of API workers
API_WORKERS=4

# Database connection pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# Redis connection pool
REDIS_POOL_SIZE=10
